<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Thank You</title>
    <!-- Add any additional styles or scripts as needed -->
  </head>
  <body>
    <div class="jumbotron">
      <h1>Thank you for your payment!</h1>
      <p>Making a complex booking...</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      // JavaScript code for making a complex booking
      setTimeout(function() {
        // Extract user ID and class ID from the URL's query parameters
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('userId');
        const classId = urlParams.get('classId');
    
        // Make sure both user ID and class ID are available
        if (userId && classId) {
          // Make a call to the complex booking service
          const complexBookingUrl = "http://localhost:5100/complex_booking";
          axios.post(complexBookingUrl, {
            user_id: userId,
            class_id: classId,
          })
          .then(complexBookingResponse => {
            // Log or handle the complex booking response as needed
            console.log("Complex Booking Response:", complexBookingResponse.data);

            // Redirect to the main page or perform other actions
            
          })
          .catch(complexBookingError => {
            console.error("Failed to make a complex booking:", complexBookingError);

            // Handle the error or redirect as needed
            // window.location.href = "http://localhost:5173/error";
          });
        } else {
          // Log an error if either user ID or class ID is missing
          console.error("User ID or class ID is missing.");
        }
      }, 5000); // Redirect after 5 seconds (adjust as needed)
    </script>
  </body>
</html>
